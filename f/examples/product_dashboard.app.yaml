summary: Product Dashboard
value:
  fullscreen: false
  grid:
    - '12':
        id: a
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 15
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 8
        x: 0
        y: 2
      '3':
        id: a
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 10
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 3
        x: 0
        y: 1
      id: a
      data:
        id: a
        type: tablecomponent
        actionButtons: []
        card: true
        componentInput:
          type: runnable
          value:
            - id: 1
              brand: Apple
              category: smartphones
              discountPercentage: 12.96
              price: 549
              rating: 4.69
              stock: 94
              title: iPhone 9
            - id: 2
              brand: Apple
              category: smartphones
              discountPercentage: 17.94
              price: 899
              rating: 4.44
              stock: 34
              title: iPhone X
            - id: 3
              brand: Samsung
              category: smartphones
              discountPercentage: 15.46
              price: 1249
              rating: 4.09
              stock: 36
              title: Samsung Universe 9
            - id: 4
              brand: OPPO
              category: smartphones
              discountPercentage: 17.91
              price: 280
              rating: 4.3
              stock: 123
              title: OPPOF19
            - id: 5
              brand: Huawei
              category: smartphones
              discountPercentage: 10.58
              price: 499
              rating: 4.09
              stock: 32
              title: Huawei P30
            - id: 6
              brand: APPle
              category: laptops
              discountPercentage: 11.02
              price: 1749
              rating: 4.57
              stock: 83
              title: MacBook Pro
            - id: 7
              brand: Samsung
              category: laptops
              discountPercentage: 4.15
              price: 1499
              rating: 4.25
              stock: 50
              title: Samsung Galaxy Book
            - id: 8
              brand: Microsoft Surface
              category: laptops
              discountPercentage: 10.23
              price: 1499
              rating: 4.43
              stock: 68
              title: Microsoft Surface Laptop 4
            - id: 9
              brand: Infinix
              category: laptops
              discountPercentage: 11.83
              price: 1099
              rating: 4.54
              stock: 96
              title: Infinix INBOOK
            - id: 10
              brand: HP Pavilion
              category: laptops
              discountPercentage: 6.18
              price: 1099
              rating: 4.43
              stock: 89
              title: HP Pavilion 15-DK1056WM
            - id: 11
              brand: Impression of Acqua Di Gio
              category: fragrances
              discountPercentage: 8.4
              price: 13
              rating: 4.26
              stock: 65
              title: perfume Oil
            - id: 12
              brand: Royal_Mirage
              category: fragrances
              discountPercentage: 15.66
              price: 40
              rating: 4
              stock: 52
              title: Brown Perfume
            - id: 13
              brand: Fog Scent Xpressio
              category: fragrances
              discountPercentage: 8.14
              price: 13
              rating: 4.59
              stock: 61
              title: Fog Scent Xpressio Perfume
            - id: 14
              brand: Al Munakh
              category: fragrances
              discountPercentage: 15.6
              price: 120
              rating: 4.21
              stock: 114
              title: Non-Alcoholic Concentrated Perfume Oil
            - id: 15
              brand: Lord - Al-Rehab
              category: fragrances
              discountPercentage: 10.99
              price: 30
              rating: 4.7
              stock: 105
              title: Eau De Perfume Spray
            - id: 16
              brand: L'Oreal Paris
              category: skincare
              discountPercentage: 13.31
              price: 19
              rating: 4.83
              stock: 110
              title: Hyaluronic Acid Serum
            - id: 17
              brand: Hemani Tea
              category: skincare
              discountPercentage: 4.09
              price: 12
              rating: 4.52
              stock: 78
              title: Tree Oil 30ml
            - id: 18
              brand: Dermive
              category: skincare
              discountPercentage: 13.1
              price: 40
              rating: 4.56
              stock: 88
              title: Oil Free Moisturizer 100ml
            - id: 19
              brand: ROREC White Rice
              category: skincare
              discountPercentage: 10.68
              price: 46
              rating: 4.42
              stock: 54
              title: Skin Beauty Serum.
            - id: 20
              brand: Fair & Clear
              category: skincare
              discountPercentage: 16.99
              price: 70
              rating: 4.06
              stock: 140
              title: Freckle Treatment Cream- 15gm
            - id: 21
              brand: Saaf & Khaas
              category: groceries
              discountPercentage: 4.81
              price: 20
              rating: 4.44
              stock: 133
              title: '- Daal Masoor 500 grams'
            - id: 22
              brand: Bake Parlor Big
              category: groceries
              discountPercentage: 15.58
              price: 14
              rating: 4.57
              stock: 146
              title: Elbow Macaroni - 400 gm
            - id: 23
              brand: Baking Food Items
              category: groceries
              discountPercentage: 8.04
              price: 14
              rating: 4.85
              stock: 26
              title: Orange Essence Food Flavou
            - id: 24
              brand: fauji
              category: groceries
              discountPercentage: 16.8
              price: 46
              rating: 4.94
              stock: 113
              title: cereals muesli fruit nuts
            - id: 25
              brand: Dry Rose
              category: groceries
              discountPercentage: 13.58
              price: 70
              rating: 4.87
              stock: 47
              title: Gulab Powder 50 Gram
            - id: 26
              brand: Boho Decor
              category: home-decoration
              discountPercentage: 17.86
              price: 41
              rating: 4.08
              stock: 131
              title: Plant Hanger For Home
            - id: 27
              brand: Flying Wooden
              category: home-decoration
              discountPercentage: 15.58
              price: 51
              rating: 4.41
              stock: 17
              title: Flying Wooden Bird
            - id: 28
              brand: LED Lights
              category: home-decoration
              discountPercentage: 16.49
              price: 20
              rating: 4.82
              stock: 54
              title: 3D Embellishment Art Lamp
            - id: 29
              brand: luxury palace
              category: home-decoration
              discountPercentage: 15.34
              price: 60
              rating: 4.44
              stock: 7
              title: Handcraft Chinese style
            - id: 30
              brand: Golden
              category: home-decoration
              discountPercentage: 2.92
              price: 30
              rating: 4.92
              stock: 54
              title: Key Holder
          connection:
            componentId: c
            path: result
          fields: {}
          fieldType: array
          runnable:
            type: runnableByName
            name: All Product Data
            inlineScript:
              content: |
                export async function main() {
                  const res = await fetch('https://dummyjson.com/products')
                  const json = await res.json()
                  return json.products.map((p: Record<string, any>) => {
                    delete p.images
                    delete p.thumbnail
                    delete p.description
                    return p
                  })
                }
              lock: |
                {
                  "version": "3",
                  "remote": {}
                }
              language: deno
              path: /inline-script/Inline Script 0
              schema:
                $schema: 'https://json-schema.org/draft/2020-12/schema'
                type: object
                properties: {}
                required: []
          subFieldType: object
        configuration:
          search:
            type: static
            value: Disabled
            fieldType: select
            onlyStatic: true
            optionValuesKey: tableSearchOptions
    - '12':
        id: b
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 2
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 12
        x: 0
        y: 0
      '3':
        id: b
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 1
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 3
        x: 0
        y: 0
      id: b
      data:
        id: b
        type: textcomponent
        card: false
        componentInput:
          type: template
          value: 'Hello ${ctx.username}'
          eval: Product table
          fieldType: template
        configuration:
          extraStyle:
            type: static
            value: 'padding-left:10px;'
            fieldType: text
          style:
            type: static
            value: Title
            fieldType: select
            onlyStatic: true
            optionValuesKey: textStyleOptions
        horizontalAlignment: left
        softWrap: true
        verticalAlignment: center
    - '12':
        id: d
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 15
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 4
        x: 8
        y: 2
      '3':
        id: d
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 12
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 3
        x: 0
        y: 11
      id: d
      data:
        id: d
        type: htmlcomponent
        card: false
        componentInput:
          type: runnable
          value: |2-

                <p class="text-sm text-gray-600 text-center pt-8">
                  Select a row from the table
                </p>
                
          eval: "<img\n\tsrc=\"https://images.unsplash.com/photo-1554629947-334ff61d85dc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1024&amp;h=1280&amp;q=80\"\n>\n<div class=\"absolute top-4 left-2  text-white\">\n\tHello ${ctx.username}\n</div>\t\t\t\n"
          fields:
            id:
              type: connected
              value: null
              connection:
                componentId: a
                path: selectedRow.id
              fieldType: number
              visible: true
          fieldType: template
          runnable:
            type: runnableByName
            name: One Product Detail
            inlineScript:
              content: |
                export async function main(id: number) {
                  if (!id) {
                    return `
                    <p class="text-sm text-gray-600 text-center pt-8">
                      Select a row from the table
                    </p>
                    `;
                  }
                  const res = await fetch("https://dummyjson.com/products/" + id);
                  const { brand, title, thumbnail, description } = await res.json();
                  return `
                  <img width="363" height="200" src="${thumbnail}">
                  <p class="text-lg font-bold my-1">
                    ${brand} ${title}
                  </p>
                  <p>
                    ${description}
                  </p>
                  `;
                }
              lock: |
                {
                  "version": "3",
                  "remote": {}
                }
              language: deno
              path: /inline-script/Inline Script 0
              schema:
                $schema: 'https://json-schema.org/draft/2020-12/schema'
                type: object
                properties:
                  id:
                    type: number
                    description: ''
                    default: null
                required:
                  - id
        configuration: {}
        softWrap: false
    - '12':
        id: e
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 8
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 6
        x: 0
        y: 19
      '3':
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 8
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 2
        x: 0
        y: 23
      id: e
      data:
        id: e
        type: barchartcomponent
        card: true
        componentInput:
          type: runnable
          value:
            data:
              - 5
              - 5
              - 5
              - 5
              - 5
              - 5
            labels:
              - smartphones
              - laptops
              - fragrances
              - skincare
              - groceries
              - home-decoration
          fields:
            data:
              type: connected
              value: null
              connection:
                componentId: a
                path: result
              fieldType: array
          fieldType: object
          runnable:
            type: runnableByName
            name: Product Category Count
            inlineScript:
              content: |
                export async function main(data: {category: string}[]) {
                  const result: {data: number[], labels: string[]} = {
                    data: [],
                    labels: []
                  }
                  if(!Array.isArray(data)) { return result }

                  const count: Record<string, number> = {}
                  data.forEach(({category}) => {
                    if(count[category]) {
                      count[category]++
                    } else {
                      count[category] = 1
                    }
                  })
                  Object.entries(count).forEach(([key, value]) => {
                    result.data.push(value)
                    result.labels.push(key)
                  })
                  return result
                }
              lock: |
                {
                  "version": "3",
                  "remote": {}
                }
              language: deno
              path: u/adam/products-app/inline-script/Inline Script 0
              schema:
                $schema: 'https://json-schema.org/draft/2020-12/schema'
                type: object
                properties:
                  data:
                    type: array
                    description: ''
                    default: null
                    items:
                      type: string
                    properties:
                      category:
                        type: string
                        description: ''
                required:
                  - data
        configuration:
          line:
            type: static
            value: false
            fieldType: boolean
            onlyStatic: true
          theme:
            type: static
            value: theme1
            fieldType: select
            onlyStatic: true
            optionValuesKey: chartThemeOptions
    - '12':
        id: f
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 9
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 6
        x: 6
        y: 19
      '3':
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 8
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 2
        x: 0
        y: 31
      id: f
      data:
        id: f
        type: barchartcomponent
        card: true
        componentInput:
          type: runnable
          value:
            data:
              - 3
              - 2
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
              - 1
            labels:
              - apple
              - samsung
              - oppo
              - huawei
              - microsoft surface
              - infinix
              - hp pavilion
              - impression of acqua di gio
              - royal_mirage
              - fog scent xpressio
              - al munakh
              - lord - al-rehab
              - l'oreal paris
              - hemani tea
              - dermive
              - rorec white rice
              - fair & clear
              - saaf & khaas
              - bake parlor big
              - baking food items
              - fauji
              - dry rose
              - boho decor
              - flying wooden
              - led lights
              - luxury palace
              - golden
          fields:
            data:
              type: connected
              value: null
              connection:
                componentId: a
                path: result
              fieldType: array
          fieldType: object
          runnable:
            type: runnableByName
            name: Product Brand Count
            inlineScript:
              content: |
                export async function main(data: {brand: string}[]) {
                  const result: {data: number[], labels: string[]} = {
                    data: [],
                    labels: []
                  }
                  if(!Array.isArray(data)) { return result }

                  const count: Record<string, number> = {}
                  data.forEach(({brand}) => {
                    brand = brand.toLowerCase()
                    if(count[brand]) {
                      count[brand]++
                    } else {
                      count[brand] = 1
                    }
                  })
                  Object.entries(count).forEach(([key, value]) => {
                    result.data.push(value)
                    result.labels.push(key)
                  })
                  return result
                }
              lock: |
                {
                  "version": "3",
                  "remote": {}
                }
              language: deno
              path: u/adam/products-app/inline-script/Inline Script 0
              schema:
                $schema: 'https://json-schema.org/draft/2020-12/schema'
                type: object
                properties:
                  data:
                    type: array
                    description: ''
                    default: null
                    items:
                      type: string
                required:
                  - data
        configuration:
          line:
            type: static
            value: false
            fieldType: boolean
            onlyStatic: true
          theme:
            type: static
            value: theme1
            fieldType: select
            onlyStatic: true
            optionValuesKey: chartThemeOptions
    - '12':
        id: h
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 2
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 6
        x: 0
        y: 17
      '3':
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 1
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 1
        x: 2
        y: 23
      id: h
      data:
        id: h
        type: textcomponent
        card: false
        componentInput:
          type: template
          value: 'Hello ${ctx.username}'
          eval: Product Count By Categories
          fieldType: template
        configuration:
          copyButton:
            type: static
            value: false
            fieldType: boolean
            onlyStatic: true
          extraStyle:
            type: static
            value: ''
            fieldType: text
            tooltip: 'CSS rules like "color: blue;"'
          style:
            type: static
            value: Subtitle
            fieldType: select
            onlyStatic: true
            optionValuesKey: textStyleOptions
        horizontalAlignment: left
        softWrap: true
        verticalAlignment: bottom
    - '12':
        id: i
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 2
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 6
        x: 6
        y: 17
      '3':
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 1
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 1
        x: 2
        y: 24
      id: i
      data:
        id: i
        type: textcomponent
        card: false
        componentInput:
          type: template
          value: 'Hello ${ctx.username}'
          eval: Product Count By Brands
          fieldType: template
        configuration:
          copyButton:
            type: static
            value: false
            fieldType: boolean
            onlyStatic: true
          extraStyle:
            type: static
            value: ''
            fieldType: text
            tooltip: 'CSS rules like "color: blue;"'
          style:
            type: static
            value: Subtitle
            fieldType: select
            onlyStatic: true
            optionValuesKey: textStyleOptions
        horizontalAlignment: left
        softWrap: true
        verticalAlignment: bottom
    - '12':
        id: j
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 2
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 12
        x: 0
        y: 28
      '3':
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 1
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 1
        x: 2
        y: 25
      id: j
      data:
        id: j
        type: textcomponent
        card: false
        componentInput:
          type: runnable
          value: 'Stock Worth By Product (Total Worth: $765,200)'
          eval: Stock Worth By Product
          fields:
            data:
              type: connected
              value: null
              connection:
                componentId: a
                path: result
              fieldType: array
          fieldType: template
          runnable:
            type: runnableByName
            name: Stock Worth Title
            inlineScript:
              content: >
                export async function main(data: {stock: number, price:
                number}[]) {
                  const base = 'Stock Worth By Product'
                  if(!Array.isArray(data)) { return base }

                  const total = data.map(row => row.stock * row.price).reduce((acc, curr) => acc + curr)
                  const formatter = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    maximumFractionDigits: 0,
                  });
                  return base + ` (Total Worth: ${formatter.format(total)})`
                }
              lock: |
                {
                  "version": "3",
                  "remote": {}
                }
              language: deno
              path: u/adam/products-app/inline-script/Inline Script 0
              schema:
                $schema: 'https://json-schema.org/draft/2020-12/schema'
                type: object
                properties:
                  data:
                    type: array
                    description: ''
                    default: null
                    items:
                      type: string
                required:
                  - data
        configuration:
          copyButton:
            type: static
            value: false
            fieldType: boolean
            onlyStatic: true
          extraStyle:
            type: static
            value: ''
            fieldType: text
            tooltip: 'CSS rules like "color: blue;"'
          style:
            type: static
            value: Subtitle
            fieldType: select
            onlyStatic: true
            optionValuesKey: textStyleOptions
        horizontalAlignment: left
        softWrap: true
        verticalAlignment: bottom
    - '12':
        id: k
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 16
        max:
          h: 100
          w: 12
        min:
          h: 1
          w: 1
        resizable: true
        w: 12
        x: 0
        y: 30
      '3':
        customDragger: false
        customResizer: false
        draggable: true
        fixed: false
        h: 8
        max:
          h: 100
          w: 3
        min:
          h: 1
          w: 1
        resizable: true
        w: 2
        x: 0
        y: 47
      id: k
      data:
        id: k
        type: barchartcomponent
        card: true
        componentInput:
          type: runnable
          value:
            data:
              - 51606
              - 30566
              - 44964
              - 34440
              - 15968
              - 145167
              - 74950
              - 101932
              - 105504
              - 97811
              - 845
              - 2080
              - 793
              - 13680
              - 3150
              - 2090
              - 936
              - 3520
              - 2484
              - 9800
              - 2660
              - 2044
              - 364
              - 5198
              - 3290
              - 5371
              - 867
              - 1080
              - 420
              - 1620
            labels:
              - Apple iPhone 9
              - Apple iPhone X
              - Samsung Samsung Universe 9
              - OPPO OPPOF19
              - Huawei Huawei P30
              - APPle MacBook Pro
              - Samsung Samsung Galaxy Book
              - Microsoft Surface Microsoft Surface Laptop 4
              - Infinix Infinix INBOOK
              - HP Pavilion HP Pavilion 15-DK1056WM
              - Impression of Acqua Di Gio perfume Oil
              - Royal_Mirage Brown Perfume
              - Fog Scent Xpressio Fog Scent Xpressio Perfume
              - Al Munakh Non-Alcoholic Concentrated Perfume Oil
              - Lord - Al-Rehab Eau De Perfume Spray
              - L'Oreal Paris Hyaluronic Acid Serum
              - Hemani Tea Tree Oil 30ml
              - Dermive Oil Free Moisturizer 100ml
              - ROREC White Rice Skin Beauty Serum.
              - Fair & Clear Freckle Treatment Cream- 15gm
              - Saaf & Khaas - Daal Masoor 500 grams
              - Bake Parlor Big Elbow Macaroni - 400 gm
              - Baking Food Items Orange Essence Food Flavou
              - fauji cereals muesli fruit nuts
              - Dry Rose Gulab Powder 50 Gram
              - Boho Decor Plant Hanger For Home
              - Flying Wooden Flying Wooden Bird
              - LED Lights 3D Embellishment Art Lamp
              - luxury palace Handcraft Chinese style
              - Golden Key Holder
          fields:
            data:
              type: connected
              value: null
              connection:
                componentId: a
                path: result
              fieldType: array
          fieldType: object
          runnable:
            type: runnableByName
            name: Product Stock Total Worth
            inlineScript:
              content: >
                export async function main(data: {brand: string, title: string,
                stock: number, price: number}[]) {
                  const result: {data: number[], labels: string[]} = {
                    data: [],
                    labels: []
                  }
                  if(!Array.isArray(data)) { return result }

                  const count: Record<string, number> = {}
                  data.forEach(row => {
                    const key = `${row.brand} ${row.title}`
                    const value = row.stock * row.price
                    count[key] = value
                  })
                  Object.entries(count).forEach(([key, value]) => {
                    result.data.push(value)
                    result.labels.push(key)
                  })
                  return result
                }
              lock: |
                {
                  "version": "3",
                  "remote": {}
                }
              language: deno
              path: u/adam/products-app/inline-script/Inline Script 0
              schema:
                $schema: 'https://json-schema.org/draft/2020-12/schema'
                type: object
                properties:
                  data:
                    type: array
                    description: ''
                    default: null
                    items:
                      type: string
                required:
                  - data
        configuration:
          line:
            type: static
            value: false
            fieldType: boolean
            onlyStatic: true
          theme:
            type: static
            value: theme1
            fieldType: select
            onlyStatic: true
            optionValuesKey: chartThemeOptions
  hiddenInlineScripts: []
  subgrids: {}
  unusedInlineScripts: []
policy:
  execution_mode: publisher
  on_behalf_of: guillaume@windmill.dev
  on_behalf_of_email: guillaume@windmill.dev
  triggerables:
    rawscript/0b7c4f9a401d090cc96b25069f8cb3846fed012f68437856425adcc7ff23ae9b: {}
    rawscript/0ce94e9ebe918bee2c0942577d8acc74d9f81e2cad7c380a6098325d468990de: {}
    rawscript/45cf98f74c1ecaf42702a6ca153a08af48d7b947ba162c25f37e4dcd269970e4: {}
    rawscript/5bc9c6ea570729546e338f1470382df7ab8f7e5bd90cb49600cddb4d2f2fa858: {}
    rawscript/d72ff89755c81acdf8f0f7ade4b1d497094ae9a222660ba7fe8cabb32b497906: {}
    rawscript/f19ca57f66dbe82b11d6b00a3b1ae7fe31e1c608e18bfd338aea9123e29834e3: {}
